# Raskraska Site

Веб-сервис для автоматического создания раскрасок из изображений с использованием искусственного интеллекта.

## Возможности

- Загрузка изображений различных типов (фотографии, мультфильмы, скетчи, логотипы)
- Автоматическое преобразование в раскраски с помощью ИИ
- Анализ качества получаемых раскрасок
- Поддержка различных форматов изображений (JPG, JPEG, PNG, GIF)
- Автоматическое тестирование качества генерации

## Технологии

- Python 3.x
- Flask (веб-фреймворк)
- OpenAI API (генерация раскрасок)
- OpenCV (обработка изображений)
- NumPy (математические вычисления)
- Bootstrap (фронтенд)

## Установка и настройка

### 1. Подготовка системы

Убедитесь, что у вас установлены:
- Python 3.8 или выше
- pip (менеджер пакетов Python)
- git

### 2. Клонирование репозитория

```bash
git clone git@github.com:ConstantinoGoo/raskraska-site.git
cd raskraska-site
```

### 3. Создание виртуального окружения

```bash
# Linux/MacOS
python3 -m venv venv
source venv/bin/activate

# Windows
python -m venv venv
venv\Scripts\activate
```

### 4. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 5. Настройка конфигурации

1. Создайте файл `.env` в корневой директории проекта:
```bash
cp .env.example .env
```

2. Отредактируйте `.env` файл, добавив необходимые параметры:
- `OPENAI_API_KEY`: ваш API ключ OpenAI (начинается с 'sk-')
- `FLASK_ENV`: 'development' для разработки, 'production' для продакшена
- `FLASK_DEBUG`: '1' для режима отладки, '0' для продакшена
- `SECRET_KEY`: секретный ключ Flask для сессий
- Остальные параметры можно оставить по умолчанию

### 6. Создание необходимых директорий

```bash
mkdir -p uploads results test_samples test_results
```

### 7. Проверка установки

1. Запустите тесты:
```bash
python -m pytest test_image_processor.py
```

2. Запустите автоматическое тестирование:
```bash
python auto_tester.py
```

### 8. Запуск приложения

```bash
flask run
```

Приложение будет доступно по адресу: `http://localhost:5000`

## Структура проекта

```
raskraska-site/
├── app.py                 # Основной файл Flask приложения
├── ai_processor.py        # Обработка запросов к OpenAI API
├── image_processor.py     # Обработка и анализ изображений
├── auto_tester.py        # Автоматическое тестирование
├── requirements.txt      # Зависимости проекта
├── .env.example         # Пример конфигурации
├── .gitignore          # Правила игнорирования файлов
├── static/             # Статические файлы (CSS, JS)
├── templates/          # HTML шаблоны
├── uploads/           # Директория для загруженных файлов
├── results/           # Директория для обработанных изображений
├── test_samples/     # Тестовые изображения
└── test_results/     # Результаты тестов
```

## Решение проблем

### Ошибка с OpenAI API
- Убедитесь, что ключ API правильно указан в `.env`
- Проверьте формат ключа (должен начинаться с 'sk-')
- Проверьте баланс и лимиты API

### Ошибки с загрузкой изображений
- Проверьте права доступа к директориям uploads/ и results/
- Убедитесь, что формат файла поддерживается
- Проверьте размер изображения (не более MAX_IMAGE_SIZE)

### Проблемы с виртуальным окружением
- Убедитесь, что окружение активировано
- Попробуйте пересоздать окружение и переустановить зависимости

## Лицензия

MIT

## Автор

[ConstantinoGoo](https://github.com/ConstantinoGoo) 